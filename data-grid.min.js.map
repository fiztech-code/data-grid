{
  "version": 3,
  "sources": ["src/utils/elementOffset.js", "src/data-grid.js", "src/plugins/column-resizer.js", "src/plugins/context-menu.js", "src/plugins/draggable-headers.js", "data-grid.js"],
  "sourcesContent": ["/**\r\n * @param {HTMLElement} el\r\n * @returns {Object}\r\n */\r\nexport default function elementOffset(el) {\r\n  var rect = el.getBoundingClientRect(),\r\n    scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\r\n    scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n  return { top: rect.top + scrollTop, left: rect.left + scrollLeft };\r\n}\r\n", "/**\n * Data Grid Web component\n *\n * Credits for inspiration\n * @link https://github.com/riverside/zino-grid\n */\n\"use strict\";\n\nimport elementOffset from \"./utils/elementOffset.js\";\n\n/**\n * @typedef Column\n * @property {string} field - the key in the data\n * @property {string} title - the title to display in the header (defaults to \"field\" if not set)\n * @property {number} width - the width of the column (auto otherwise)\n * @property {string} class - class to set on the column (target body or header with th.class or td.class)\n * @property {string} attr - don't render the column and set a matching attribute on the row with the value of the field\n * @property {boolean} hidden - hide the column\n * @property {boolean} editable - replace with input\n * @property {boolean} noSort - allow disabling sort for a given column\n */\n\n/**\n * @typedef Action\n * @property {string} title - the title of the button\n * @property {string} url - link for the action\n * @property {string} html - custom button data\n * @property {boolean} confirm - needs confirmation\n * @property {boolean} default - is the default row action\n */\n\n/**\n * @typedef Plugins\n * @property {DataGridColumnResizer} columnResizer\n * @property {DataGridContextMenu} contextMenu\n * @property {DataGridDraggableHeaders} draggableHeaders\n */\n\n/**\n * @var Plugins\n */\nlet plugins = {};\n\nconst labels = Object.assign(\n  {\n    itemsPerPage: \"Items per page\",\n    gotoPage: \"Go to page\",\n    gotoFirstPage: \"Go to first page\",\n    gotoPrevPage: \"Go to previous page\",\n    gotoNextPage: \"Go to next page\",\n    gotoLastPage: \"Go to last page\",\n    of: \"of\",\n    items: \"items\",\n    resizeColumn: \"Resize column\",\n    noData: \"No data\",\n    areYouSure: \"Are you sure?\",\n  },\n  window.DataGridLabels || {}\n);\nconst template = document.createElement(\"template\");\ntemplate.innerHTML = `\n<table role=\"grid\" >\n    <thead role=\"rowgroup\">\n        <tr role=\"row\" aria-rowindex=\"1\" class=\"dg-head-columns\"></tr>\n        <tr role=\"row\" aria-rowindex=\"2\" class=\"dg-head-filters\"></tr>\n    </thead>\n    <tbody role=\"rowgroup\" data-empty=\"${labels.noData}\"></tbody>\n    <tfoot role=\"rowgroup\" hidden>\n        <tr role=\"row\" aria-rowindex=\"1\">\n            <td role=\"gridcell\">\n            <div class=\"dg-footer\">\n                <div class=\"dg-page-nav\">\n                  <select class=\"dg-select-per-page\" aria-label=\"${labels.itemsPerPage}\"></select>\n                </div>\n                <div class=\"dg-pagination\">\n                  <button type=\"button\" class=\"dg-btn-first dg-rotate\" title=\"${labels.gotoFirstPage}\" aria-label=\"${labels.gotoFirstPage}\" disabled>\n                    <i class=\"dg-skip-icon\"></i>\n                  </button>\n                  <button type=\"button\" class=\"dg-btn-prev dg-rotate\" title=\"${labels.gotoPrevPage}\" aria-label=\"${labels.gotoPrevPage}\" disabled>\n                    <i class=\"dg-nav-icon\"></i>\n                  </button>\n                  <input type=\"number\" class=\"dg-input-page\" min=\"1\" step=\"1\" value=\"1\" aria-label=\"${labels.gotoPage}\">\n                  <button type=\"button\" class=\"dg-btn-next\" title=\"${labels.gotoNextPage}\" aria-label=\"${labels.gotoNextPage}\" disabled>\n                    <i class=\"dg-nav-icon\"></i>\n                  </button>\n                  <button type=\"button\" class=\"dg-btn-last\" title=\"${labels.gotoLastPage}\" aria-label=\"${labels.gotoLastPage}\" disabled>\n                    <i class=\"dg-skip-icon\"></i>\n                  </button>\n                </div>\n                <div class=\"dg-meta\">\n                  <span class=\"dg-low\">0</span> - <span class=\"dg-high\">0</span> ${labels.of} <span class=\"dg-total\">0</span> ${labels.items}\n                </div>\n            </div>\n            </td>\n        </tr>\n    </tfoot>\n    <ul class=\"dg-menu\" hidden></ul>\n</table>\n`;\n\n/**\n * @property {Column[]} state.columns\n * @property {Action[]} state.actions\n */\nclass DataGrid extends HTMLElement {\n  /**\n   * @param {object} options\n   */\n  constructor(options = {}) {\n    super();\n\n    // Don't use shadow dom as it makes theming super hard\n    this.appendChild(template.content.cloneNode(true));\n    this.root = this;\n\n    this.state = {\n      // reflected and observed\n      url: null,\n      page: 1,\n      perPage: 10,\n      debug: false,\n      filter: false,\n      sort: false,\n      server: false,\n      defaultSort: \"\",\n      reorder: false,\n      dir: \"ltr\",\n      // not reflected\n      pages: 0,\n      perPageValues: [10, 25, 50, 100, 250],\n      columns: [],\n      actions: [],\n      collapseActions: false,\n    };\n    this.setOptions(options);\n\n    // The grid displays data\n    this.data = [];\n    // We store the data in this\n    this.originalData = [];\n\n    // Init values\n    this.isInitialized = false;\n    this.touch = null;\n    this.isResizing = false;\n    this.defaultHeight = 0;\n    this.meta = {};\n\n    // Set id\n    if (!this.hasAttribute(\"id\")) {\n      this.setAttribute(\"id\", DataGrid.randstr(\"dg-\"));\n    }\n\n    this.log(\"constructor\");\n  }\n\n  static registerPlugin(name, inst) {\n    plugins[name] = inst;\n  }\n\n  // utils\n\n  /**\n   * @param {string} str\n   * @param {Object} data\n   * @returns {string}\n   */\n  static interpolate(str, data) {\n    return str.replace(/\\{([^}]+)?\\}/g, function ($1, $2) {\n      return data[$2];\n    });\n  }\n\n  /**\n   * @param {HTMLElement} el\n   * @param {string} type\n   * @param {string} prop\n   * @returns {HTMLElement}\n   */\n  static getParentNode(el, type, prop = \"nodeName\") {\n    let parent = el;\n    while (parent[prop] != type) {\n      parent = parent.parentNode;\n    }\n    return parent;\n  }\n\n  /**\n   * Uses canvas.measureText to compute and return the width of the given text of given font in pixels.\n   * @see https://stackoverflow.com/questions/118241/calculate-text-width-with-javascript/21015393#21015393\n   * @param {string} text The text to be rendered.\n   * @param {HTMLElement} el Target element (defaults to body)\n   * @return {number}\n   */\n  static getTextWidth(text, el = document.body) {\n    const styles = window.getComputedStyle(el, null);\n    const fontWeight = styles.getPropertyValue(\"font-weight\") || \"normal\";\n    const fontSize = styles.getPropertyValue(\"font-size\") || \"1rem\";\n    const fontFamily = styles.getPropertyValue(\"font-family\") || \"Arial\";\n\n    // re-use canvas object for better performance\n    const canvas = this.getTextWidth.canvas || (this.getTextWidth.canvas = document.createElement(\"canvas\"));\n    const context = canvas.getContext(\"2d\");\n    context.font = `${fontWeight} ${fontSize} ${fontFamily}`;\n    const metrics = context.measureText(text);\n    return parseInt(metrics.width);\n  }\n\n  /**\n   * @param {HTMLElement} el\n   * @param {string} value\n   * @param {string} label\n   * @param {boolean} checked\n   */\n  static addSelectOption(el, value, label, checked = false) {\n    let opt = document.createElement(\"option\");\n    opt.value = value;\n    if (checked) {\n      opt.selected = \"selected\";\n    }\n    opt.label = label;\n    el.appendChild(opt);\n  }\n  /**\n   * @param {string} prefix\n   * @returns {string}\n   */\n  static randstr(prefix) {\n    return Math.random()\n      .toString(36)\n      .replace(\"0.\", prefix || \"\");\n  }\n  /**\n   * @param {string|Array} v\n   * @returns\n   */\n  static convertArray(v) {\n    if (typeof v === \"string\") {\n      if (v[0] === \"{\") {\n        return JSON.parse(v);\n      }\n      return v.split(\",\");\n    }\n    if (!Array.isArray(v)) {\n      console.error(\"Invalid array\", v);\n      return {};\n    }\n    return v;\n  }\n\n  /**\n   * @param {HTMLElement} el\n   * @param {Object} definition\n   */\n  static applyColumnDefinition(el, definition) {\n    if (definition.width) {\n      el.setAttribute(\"width\", definition.width);\n    }\n    if (definition.class) {\n      el.setAttribute(\"class\", definition.class);\n    }\n  }\n  /**\n   * @param {Object|Array} columns\n   * @returns {Object}\n   */\n  static convertColumns(columns) {\n    let cols = [];\n    // Convert objects to array\n    if (typeof columns === \"object\" && !Array.isArray(columns)) {\n      Object.keys(columns).forEach((key) => {\n        let col = {};\n        col.title = columns[key];\n        col.field = key;\n        cols.push(col);\n      });\n    } else {\n      columns.forEach((item) => {\n        let col = {};\n        if (typeof item === \"string\") {\n          col.title = item;\n          col.field = item;\n        } else if (typeof item === \"object\") {\n          col = item;\n          if (!col.field) {\n            console.error(\"Invalid column definition\", item);\n          }\n        } else {\n          console.error(\"Column definition must be a string or an object\");\n        }\n        cols.push(col);\n      });\n    }\n    return cols;\n  }\n\n  // reflected attrs, see https://gist.github.com/WebReflection/ec9f6687842aa385477c4afca625bbf4#reflected-dom-attributes\n\n  static get observedAttributes() {\n    return [\"url\", \"page\", \"per-page\", \"debug\", \"filter\", \"sort\", \"default-sort\", \"dir\", \"reorder\"];\n  }\n  attributeChangedCallback(attributeName, oldValue, newValue) {\n    this.log(\"attributeChangedCallback: \" + attributeName);\n\n    // Update state but only trigger events if initialized\n    switch (attributeName) {\n      case \"url\":\n        this.state.url = newValue;\n        if (this.isInitialized && newValue) {\n          this.loadData().then(() => {\n            this.configureUi();\n          });\n        }\n        break;\n      case \"page\":\n        this.state.page = Number(newValue);\n        if (this.isInitialized) {\n          this.loadData().finally(() => {\n            this.fixPage();\n            this.server ? this.renderBody() : this.paginate();\n          });\n        }\n        break;\n      case \"per-page\":\n        this.state.perPage = Number(newValue);\n        if (this.isInitialized) {\n          this.selectPerPage.value = newValue;\n          this.loadData().finally(() => {\n            this.fixPage();\n            this.server ? this.renderBody() : this.paginate();\n\n            // Scroll and keep a sizable amount of data displayed\n            if (this.sticky) {\n              window.scroll({ top: elementOffset(this.selectPerPage).top - this.defaultHeight });\n            }\n          });\n        }\n        break;\n      case \"debug\":\n        this.state.debug = newValue === \"true\";\n        break;\n      case \"dir\":\n        this.state.dir = newValue;\n        this.root.querySelector(\".dg-wrapper\").dir = this.state.dir;\n        break;\n      case \"filter\":\n        this.state.filter = newValue === \"true\";\n        if (this.isInitialized) {\n          this.toggleFilter();\n        }\n        break;\n      case \"reorder\":\n        this.state.reorder = newValue === \"true\";\n        if (this.isInitialized) {\n          this.toggleReorder();\n        }\n        break;\n      case \"sort\":\n        this.state.sort = newValue === \"true\";\n        if (this.isInitialized) {\n          this.toggleSort();\n        }\n        break;\n      case \"default-sort\":\n        this.state.defaultSort = newValue;\n        if (this.isInitialized) {\n          this.toggleSort();\n        }\n        break;\n    }\n  }\n  get page() {\n    return this.getAttribute(\"page\");\n  }\n  set page(val) {\n    this.setAttribute(\"page\", val);\n  }\n  get perPage() {\n    return this.getAttribute(\"per-page\");\n  }\n  set perPage(val) {\n    this.setAttribute(\"per-page\", val);\n  }\n  get debug() {\n    return this.getAttribute(\"debug\") === \"true\";\n  }\n  set debug(val) {\n    this.setAttribute(\"debug\", val);\n  }\n  get dir() {\n    return this.getAttribute(\"dir\");\n  }\n  set dir(val) {\n    this.setAttribute(\"dir\", val);\n  }\n  get filter() {\n    return this.getAttribute(\"filter\") === \"true\";\n  }\n  set filter(val) {\n    this.setAttribute(\"filter\", val);\n  }\n  get reorder() {\n    return this.getAttribute(\"reorder\") === \"true\";\n  }\n  set reorder(val) {\n    this.setAttribute(\"reorder\", val);\n  }\n  get sort() {\n    return this.getAttribute(\"sort\") === \"true\";\n  }\n  set sort(val) {\n    this.setAttribute(\"sort\", val);\n  }\n  get defaultSort() {\n    return this.getAttribute(\"default-sort\");\n  }\n  set defaultSort(val) {\n    this.setAttribute(\"default-sort\", val);\n  }\n  get url() {\n    return this.getAttribute(\"url\");\n  }\n  set url(val) {\n    val ? this.setAttribute(\"url\", val) : this.removeAttribute(\"url\");\n  }\n\n  // Boolean\n\n  get server() {\n    return this.hasAttribute(\"server\");\n  }\n  set server(val) {\n    val ? this.setAttribute(\"server\", \"\") : this.removeAttribute(\"server\");\n  }\n  get autosize() {\n    return this.hasAttribute(\"autosize\");\n  }\n  set autosize(val) {\n    val ? this.setAttribute(\"autosize\", \"\") : this.removeAttribute(\"autosize\");\n  }\n  get resizable() {\n    return this.hasAttribute(\"resizable\");\n  }\n  set resizable(val) {\n    val ? this.setAttribute(\"resizable\", \"\") : this.removeAttribute(\"resizable\");\n  }\n  get sticky() {\n    return this.hasAttribute(\"sticky\");\n  }\n  set sticky(val) {\n    val ? this.setAttribute(\"sticky\", \"\") : this.removeAttribute(\"sticky\");\n  }\n  get responsive() {\n    return this.hasAttribute(\"responsive\");\n  }\n  set responsive(val) {\n    val ? this.setAttribute(\"responsive\", \"\") : this.removeAttribute(\"responsive\");\n  }\n  get expand() {\n    return this.hasAttribute(\"expand\");\n  }\n  set expand(val) {\n    val ? this.setAttribute(\"expand\", \"\") : this.removeAttribute(\"expand\");\n  }\n  get selectable() {\n    return this.hasAttribute(\"selectable\");\n  }\n  set selectable(val) {\n    val ? this.setAttribute(\"selectable\", \"\") : this.removeAttribute(\"selectable\");\n  }\n\n  // Not reflected\n\n  get perPageValues() {\n    return this.state.perPageValues;\n  }\n  set perPageValues(val) {\n    if (Array.isArray(val)) {\n      this.state.perPageValues = val;\n      if (this.selectPerPage) {\n        while (this.selectPerPage.lastChild) {\n          this.selectPerPage.removeChild(this.selectPerPage.lastChild);\n        }\n        this.state.perPageValues.forEach((v) => {\n          DataGrid.addSelectOption(this.selectPerPage, v, v);\n        });\n      }\n    }\n  }\n  get columns() {\n    return this.state.columns;\n  }\n  set columns(val) {\n    this.state.columns = DataGrid.convertColumns(DataGrid.convertArray(val));\n  }\n  get actions() {\n    return this.state.actions;\n  }\n  set actions(val) {\n    this.state.actions = DataGrid.convertArray(val);\n  }\n  connectedCallback() {\n    this.log(\"connectedCallback\");\n\n    this.btnFirst = this.root.querySelector(\".dg-btn-first\");\n    this.btnPrev = this.root.querySelector(\".dg-btn-prev\");\n    this.btnNext = this.root.querySelector(\".dg-btn-next\");\n    this.btnLast = this.root.querySelector(\".dg-btn-last\");\n    this.selectPerPage = this.root.querySelector(\".dg-select-per-page\");\n    this.inputPage = this.root.querySelector(\".dg-input-page\");\n\n    this.getFirst = this.getFirst.bind(this);\n    this.getPrev = this.getPrev.bind(this);\n    this.getNext = this.getNext.bind(this);\n    this.getLast = this.getLast.bind(this);\n    this.changePerPage = this.changePerPage.bind(this);\n    this.gotoPage = this.gotoPage.bind(this);\n\n    this.btnFirst.addEventListener(\"click\", this.getFirst);\n    this.btnPrev.addEventListener(\"click\", this.getPrev);\n    this.btnNext.addEventListener(\"click\", this.getNext);\n    this.btnLast.addEventListener(\"click\", this.getLast);\n    this.selectPerPage.addEventListener(\"change\", this.changePerPage, {\n      passive: true,\n    });\n    this.inputPage.addEventListener(\"input\", this.gotoPage);\n\n    // Touch support\n    this.touchstart = this.touchstart.bind(this);\n    this.touchmove = this.touchmove.bind(this);\n    document.addEventListener(\"touchstart\", this.touchstart);\n    document.addEventListener(\"touchmove\", this.touchmove);\n\n    // Populate\n    this.perPageValues = this.state.perPageValues;\n\n    this.loadData().finally(() => {\n      this.configureUi();\n\n      this.toggleSort();\n      this.toggleFilter();\n      this.toggleReorder();\n\n      this.root.classList.add(\"dg-initialized\");\n      this.isInitialized = true;\n    });\n  }\n  disconnectedCallback() {\n    this.log(\"disconnectedCallback\");\n\n    this.btnFirst.removeEventListener(\"click\", this.getFirst);\n    this.btnPrev.removeEventListener(\"click\", this.getPrev);\n    this.btnNext.removeEventListener(\"click\", this.getNext);\n    this.btnLast.removeEventListener(\"click\", this.getLast);\n    this.selectPerPage.removeEventListener(\"change\", this.changePerPage, {\n      passive: true,\n    });\n    this.inputPage.removeEventListener(\"input\", this.gotoPage);\n\n    // Touch support\n    document.removeEventListener(\"touchstart\", this.touchstart);\n    document.removeEventListener(\"touchmove\", this.touchmove);\n\n    // Selectable\n    if (this.selectAll) {\n      this.selectAll.removeEventListener(\"change\", this.toggleSelectAll);\n    }\n\n    // Context menu\n    if (this.headerRow && typeof DataGridContextMenu != \"undefined\") {\n      this.headerRow.oncontextmenu = null;\n    }\n\n    // TODO: what about the others listeners?\n  }\n  toggleSelectAll() {\n    this.root.querySelectorAll(\"tbody .dg-selectable input\").forEach((cb) => {\n      cb.checked = this.selectAll.checked;\n    });\n  }\n  touchstart(e) {\n    this.touch = e.touches[0];\n  }\n  touchmove(e) {\n    if (!this.touch) {\n      return;\n    }\n    const xDiff = this.touch.clientX - e.touches[0].clientX;\n    const yDiff = this.touch.clientY - e.touches[0].clientY;\n\n    if (Math.abs(xDiff) > Math.abs(yDiff)) {\n      if (xDiff > 0) {\n        this.getNext();\n      } else {\n        this.getPrev();\n      }\n    }\n    this.touch = null;\n  }\n\n  /**\n   * @param {Object} options\n   */\n  setOptions(options) {\n    if (this.reorder && this.isInitialized) return;\n    for (const [key, value] of Object.entries(options)) {\n      if (key in this) {\n        this[key] = value;\n        this.state[key] = value;\n      }\n    }\n  }\n  getColProp(field, prop) {\n    let v = null;\n    this.state.columns.forEach((col) => {\n      if (col.field == field) {\n        v = col[prop];\n        return;\n      }\n    });\n    return v;\n  }\n  setColProp(field, prop, val) {\n    this.state.columns.forEach((col) => {\n      if (col.field == field) {\n        col[prop] = val;\n      }\n    });\n  }\n  startIndex() {\n    return this.selectable ? 2 : 1;\n  }\n  hasActions() {\n    return this.state.actions.length > 0;\n  }\n  get actionClass() {\n    if (this.state.actions.length < 3 && !this.state.collapseActions) {\n      return \"dg-actions-\" + this.state.actions.length;\n    }\n    return \"dg-actions-more\";\n  }\n  columnsLength(visibleOnly = false) {\n    let len = 0;\n    this.state.columns.forEach((col) => {\n      if (visibleOnly && col.hidden) {\n        return;\n      }\n      if (!col.attr) {\n        len++;\n      }\n    });\n    if (this.selectable) {\n      len++;\n    }\n    if (this.state.actions.length) {\n      len++;\n    }\n    return len;\n  }\n  computeDefaultHeight() {\n    // Wait until height is fully computed\n    requestAnimationFrame(() => {\n      this.defaultHeight = this.root.querySelector(\"table\").offsetHeight;\n\n      // If we have a fixed height, make sure we have overflowY set\n      if (this.style.height) {\n        this.style.height = this.defaultHeight + \"px\";\n        this.style.overflowY = \"auto\";\n      }\n      // If our min height is too small, make sure we adjust the value\n      if (this.style.minHeight && parseInt(this.style.minHeight) > this.defaultHeight) {\n        this.style.minHeight = this.defaultHeight + \"px\";\n      }\n    });\n  }\n  configureUi() {\n    if (plugins.contextMenu) {\n      plugins.contextMenu.createMenu(this);\n    }\n    this.root.querySelector(\"table\").setAttribute(\"aria-rowcount\", this.data.length);\n    this.root.querySelector(\"tfoot\").removeAttribute(\"hidden\");\n    this.renderHeader();\n\n    // Store row height for later usage\n    if (!this.rowHeight) {\n      const tr = this.root.querySelector(\"tbody tr\") || this.root.querySelector(\"table tr\");\n      this.rowHeight = tr.offsetHeight;\n    }\n  }\n  /**\n   * This needs to be called each time the data changes or the perPage value changes\n   */\n  fixPage() {\n    this.state.pages = this.totalPages();\n\n    // Constrain values\n    if (this.state.pages < this.state.page) {\n      this.state.page = this.state.pages;\n    }\n    if (this.state.page < 1) {\n      this.state.page = 1;\n    }\n\n    // Show current page in input\n    this.inputPage.setAttribute(\"max\", this.state.pages);\n    this.inputPage.value = this.state.page;\n    this.inputPage.disabled = this.state.pages === 1;\n  }\n  toggleFilter() {\n    const row = this.root.querySelector(\"thead tr.dg-head-filters\");\n    if (this.state.filter) {\n      row.removeAttribute(\"hidden\");\n    } else {\n      row.setAttribute(\"hidden\", true);\n    }\n  }\n  toggleReorder() {\n    this.root.querySelectorAll(\"thead tr.dg-head-columns th\").forEach((th) => {\n      if (th.classList.contains(\"dg-selectable\") || th.classList.contains(\"dg-actions\")) {\n        return;\n      }\n      if (this.state.reorder) {\n        th.draggable = true;\n      } else {\n        th.removeAttribute(\"draggable\");\n      }\n    });\n  }\n  toggleSort() {\n    this.log(\"toggle sort\");\n    this.root.querySelectorAll(\"thead tr.dg-head-columns th\").forEach((th) => {\n      const fieldName = th.getAttribute(\"field\");\n      if (\n        th.classList.contains(\"dg-selectable\") ||\n        th.classList.contains(\"dg-actions\") ||\n        (!this.isInitialized && fieldName == this.defaultSort)\n      ) {\n        return;\n      }\n      if (this.state.sort && !this.getColProp(fieldName, \"noSort\")) {\n        th.setAttribute(\"aria-sort\", \"none\");\n      } else {\n        th.removeAttribute(\"aria-sort\");\n      }\n    });\n  }\n  addRow(row) {\n    this.log(\"Add row\");\n    this.originalData.push(row);\n    this.data = this.originalData.slice();\n    this.fixPage();\n    this.sortData();\n  }\n  removeRow(value = null, key = null) {\n    if (key === null) {\n      key = this.columns[0][\"field\"];\n    }\n    if (value === null) {\n      value = this.originalData[this.originalData.length - 1][key];\n    }\n    this.log(\"Removing \" + key + \":\" + value);\n    for (let i = 0; i < this.originalData.length; i++) {\n      if (this.originalData[i][key] === value) {\n        this.originalData.splice(i, 1);\n        break;\n      }\n    }\n    this.data = this.originalData.slice();\n    this.fixPage();\n    this.sortData();\n  }\n  getSelection(key = null) {\n    let selectedData = [];\n    this.data.forEach((item, i) => {\n      const row = this.root.querySelector(\"tbody tr[aria-rowindex='\" + (i + 1) + \"']\");\n      const checkbox = row.querySelector(\".dg-selectable input\");\n      if (checkbox.checked) {\n        if (key) {\n          selectedData.push(item[key]);\n        } else {\n          selectedData.push(item);\n        }\n      }\n    });\n    return selectedData;\n  }\n  getData() {\n    return this.originalData;\n  }\n  clearData() {\n    // Clear the state but keep attribute so we can reload\n    this.state.url = null;\n    if (this.data.length === 0) {\n      return;\n    }\n    this.data = this.originalData = [];\n    this.fixPage();\n    this.renderHeader();\n    this.computeDefaultHeight();\n  }\n  /**\n   * @returns {Promise}\n   */\n  loadData() {\n    if ((!this.server && this.originalData.length) || (this.server && !this.isInitialized && this.originalData.length)) {\n      this.log(\"skip loadData\");\n      return new Promise((resolve) => {\n        resolve();\n      });\n    }\n    this.log(\"loadData\");\n    this.loading = true;\n    this.root.classList.add(\"dg-loading\");\n    return this.fetchData()\n      .then((response) => {\n        if (Array.isArray(response)) {\n          this.data = response;\n        } else {\n          if (!response.data) {\n            console.error(\"Invalid response, it should contain a data key with an array or be a plain array\", response);\n            return;\n          }\n\n          // We may have a config object\n          if (response.options) {\n            this.setOptions(response.options);\n          }\n          if (response.meta) {\n            this.meta = response.meta;\n          }\n\n          this.data = response.data;\n        }\n        this.originalData = this.data.slice();\n        this.fixPage();\n\n        // Make sure we have a proper set of columns\n        if (this.state.columns.length === 0 && this.originalData.length) {\n          this.state.columns = DataGrid.convertColumns(Object.keys(this.originalData[0]));\n        }\n\n        this.root.classList.remove(\"dg-loading\");\n        this.loading = false;\n      })\n      .catch((err) => {\n        this.url = null;\n        this.log(err);\n      });\n  }\n  getFirst() {\n    if (this.loading) {\n      return;\n    }\n    this.page = 1;\n  }\n  getLast() {\n    if (this.loading) {\n      return;\n    }\n    this.page = this.state.pages;\n  }\n  getPrev() {\n    if (this.loading) {\n      return;\n    }\n    this.page = this.state.page - 1;\n  }\n  getNext() {\n    if (this.loading) {\n      return;\n    }\n    this.page = this.state.page + 1;\n  }\n  /**\n   * @returns {Promise}\n   */\n  refresh() {\n    this.data = this.originalData = [];\n    return this.loadData();\n  }\n  changePerPage() {\n    this.perPage = this.selectPerPage.options[this.selectPerPage.selectedIndex].value;\n  }\n  gotoPage(event) {\n    if (event.type === \"keypress\") {\n      const key = event.keyCode || event.key;\n      if (key === 13 || key === \"Enter\") {\n        event.preventDefault();\n      } else {\n        return;\n      }\n    }\n    this.page = this.inputPage.value;\n  }\n  getSort() {\n    let col = this.root.querySelector(\"thead tr.dg-head-columns th[aria-sort$='scending']\");\n    if (col) {\n      return col.getAttribute(\"field\");\n    }\n    return this.defaultSort;\n  }\n  getSortDir() {\n    let col = this.root.querySelector(\"thead tr.dg-head-columns th[aria-sort$='scending']\");\n    if (col) {\n      return col.getAttribute(\"aria-sort\") || \"\";\n    }\n    return \"\";\n  }\n  getFilters() {\n    let filters = [];\n    this.root.querySelectorAll(\"thead tr.dg-head-filters input\").forEach((input) => {\n      filters[input.dataset.name] = input.value;\n    });\n    return filters;\n  }\n  clearFilters() {\n    this.root.querySelectorAll(\"thead tr.dg-head-filters input\").forEach((input) => {\n      input.value = \"\";\n    });\n    this.filterData();\n  }\n  filterData() {\n    this.log(\"filter data\");\n\n    if (this.server) {\n      this.loadData().finally(() => {\n        this.fixPage();\n        this.renderBody();\n      });\n    } else {\n      this.data = this.originalData.slice();\n\n      this.root.querySelectorAll(\"thead tr.dg-head-filters input\").forEach((input) => {\n        let value = input.value;\n        if (value) {\n          let name = input.dataset.name;\n          this.data = this.data.filter((item) => {\n            let str = item[name] + \"\";\n            return str.toLowerCase().indexOf(value.toLowerCase()) !== -1;\n          });\n        }\n      });\n\n      this.fixPage();\n      let col = this.root.querySelector(\"thead tr.dg-head-columns th[aria-sort$='scending']\");\n      if (this.state.sort && col) {\n        this.sortData(col);\n      } else {\n        this.renderBody();\n      }\n    }\n  }\n  /**\n   * Data will be sorted then rendered using renderBody\n   * @param {HTMLElement} col The column that was clicked or null to use current sort\n   */\n  sortData(col = null) {\n    this.log(\"sort data\");\n\n    // Early exit\n    if (col && this.getColProp(col.getAttribute(\"field\"), \"noSort\")) {\n      this.log(\"sorting prevented because column is not sortable\");\n      return;\n    }\n    if (this.loading) {\n      this.log(\"sorting prevented because loading\");\n      return;\n    }\n\n    // We clicked on a column, update sort state\n    if (col !== null) {\n      // Remove active sort if any\n      this.root.querySelectorAll(\"thead tr:first-child th\").forEach((th) => {\n        if (th.classList.contains(\"dg-selectable\") || th.classList.contains(\"dg-actions\")) {\n          return;\n        }\n        if (th !== col) {\n          th.setAttribute(\"aria-sort\", \"none\");\n        }\n      });\n\n      // Set three-state col\n      if (!col.hasAttribute(\"aria-sort\") || col.getAttribute(\"aria-sort\") === \"none\") {\n        col.setAttribute(\"aria-sort\", \"ascending\");\n      } else if (col.getAttribute(\"aria-sort\") === \"ascending\") {\n        col.setAttribute(\"aria-sort\", \"descending\");\n      } else if (col.getAttribute(\"aria-sort\") === \"descending\") {\n        col.setAttribute(\"aria-sort\", \"none\");\n      }\n    } else {\n      // Or fetch current sort\n      col = this.root.querySelector(\"thead tr.dg-head-columns th[aria-sort$='scending']\");\n    }\n\n    if (this.server) {\n      // Reload data with updated sort\n      this.loadData().finally(() => {\n        this.renderBody();\n      });\n    } else {\n      const sort = col ? col.getAttribute(\"aria-sort\") : \"none\";\n      if (sort === \"none\") {\n        let stack = [];\n\n        // Restore order while keeping filters\n        this.originalData.some((itemA) => {\n          this.data.some((itemB) => {\n            if (JSON.stringify(itemA) === JSON.stringify(itemB)) {\n              stack.push(itemB);\n              return true;\n            }\n            return false;\n          });\n          return stack.length === this.data.length;\n        });\n\n        this.data = stack;\n      } else {\n        const field = col.getAttribute(\"field\");\n        this.data.sort((a, b) => {\n          if (!isNaN(a[field]) && !isNaN(b[field])) {\n            return sort === \"ascending\" ? a[field] - b[field] : b[field] - a[field];\n          }\n          const valA = sort === \"ascending\" ? a[field].toUpperCase() : b[field].toUpperCase();\n          const valB = sort === \"ascending\" ? b[field].toUpperCase() : a[field].toUpperCase();\n\n          switch (true) {\n            case valA > valB:\n              return 1;\n            case valA < valB:\n              return -1;\n            case valA === valB:\n              return 0;\n          }\n        });\n      }\n      this.renderBody();\n    }\n  }\n  fetchData() {\n    if (!this.url) {\n      return new Promise((resolve, reject) => reject(\"No url set\"));\n    }\n    let url = new URL(this.url, window.location.href);\n    let params = {\n      r: Math.ceil(Math.random() * 9999999),\n    };\n    if (this.server) {\n      // 0 based\n      params[\"start\"] = this.state.page - 1;\n      params[\"length\"] = this.state.perPage;\n      params[\"search\"] = this.getFilters();\n      params[\"sort\"] = this.getSort() || \"\";\n      params[\"sortDir\"] = this.getSortDir();\n    }\n\n    Object.keys(params).forEach((key) => {\n      if (Array.isArray(params[key])) {\n        Object.keys(params[key]).forEach((k) =>\n          url.searchParams.append(isNaN(k) ? `${key}[${k}]` : key, params[key][k])\n        );\n      } else {\n        url.searchParams.append(key, params[key]);\n      }\n    });\n\n    return fetch(url).then((response) => {\n      return response.json();\n    });\n  }\n  renderHeader() {\n    this.log(\"render header\");\n    let sortedColumn;\n    let thead = this.root.querySelector(\"thead\");\n\n    this.createColumnHeaders(thead);\n    if (this.state.defaultSort) {\n      // We can have a default sort even with sort disabled\n      sortedColumn = this.root.querySelector(\"thead tr.dg-head-columns th[field='\" + this.state.defaultSort + \"']\");\n    }\n\n    // Create column filters\n    this.createColumnFilters(thead);\n\n    // Configure table\n    this.root.querySelector(\"table\").setAttribute(\"aria-colcount\", this.columnsLength(true).toString());\n    this.root.querySelector(\"tfoot\").querySelector(\"td\").setAttribute(\"colspan\", this.columnsLength(true).toString());\n\n    if (sortedColumn) {\n      this.sortData(sortedColumn);\n    } else {\n      this.renderBody();\n    }\n\n    this.root.querySelector(\"tfoot\").style.display = \"\";\n    if (this.resizable && plugins.columnResizer) {\n      plugins.columnResizer.renderResizer(this, labels.resizeColumn);\n    }\n  }\n  createColumnHeaders(thead) {\n    const colMaxWidth = parseInt((thead.offsetWidth / this.columnsLength(true)) * 2);\n\n    let idx = 0;\n    let tr;\n\n    // Create row\n    tr = document.createElement(\"tr\");\n    this.headerRow = tr;\n    tr.setAttribute(\"role\", \"row\");\n    tr.setAttribute(\"aria-rowindex\", 1);\n    tr.setAttribute(\"class\", \"dg-head-columns\");\n\n    let selectableTh = document.createElement(\"th\");\n    selectableTh.setAttribute(\"role\", \"columnheader button\");\n    selectableTh.setAttribute(\"aria-colindex\", 1);\n    selectableTh.classList.add(\"dg-selectable\");\n    selectableTh.tabIndex = 0;\n\n    // Selectable\n    if (this.selectable) {\n      this.selectAll = document.createElement(\"input\");\n      this.selectAll.type = \"checkbox\";\n      this.selectAll.classList.add(\"dg-select-all\");\n\n      this.toggleSelectAll = this.toggleSelectAll.bind(this);\n      this.selectAll.addEventListener(\"change\", this.toggleSelectAll);\n\n      let label = document.createElement(\"label\");\n      label.appendChild(this.selectAll);\n\n      selectableTh.appendChild(label);\n    }\n    selectableTh.setAttribute(\"width\", 40);\n    tr.appendChild(selectableTh);\n\n    // Create columns\n    idx = 0;\n    let totalWidth = 0;\n    this.state.columns.forEach((column) => {\n      if (column.attr) {\n        return;\n      }\n      let th = document.createElement(\"th\");\n      th.setAttribute(\"role\", \"columnheader button\");\n      th.setAttribute(\"aria-colindex\", idx + this.startIndex());\n      th.setAttribute(\"id\", DataGrid.randstr(\"dg-col-\"));\n      if (this.state.sort) {\n        th.setAttribute(\"aria-sort\", \"none\");\n      }\n      th.setAttribute(\"field\", column.field);\n      th.dataset.minWidth = DataGrid.getTextWidth(column.title, th) + 40;\n      DataGrid.applyColumnDefinition(th, column);\n      th.tabIndex = 0;\n      th.textContent = column.title;\n\n      if (column.hidden) {\n        th.setAttribute(\"hidden\", true);\n      }\n\n      // Autosize small based on first/last row ?\n      if (this.autosize && !th.getAttribute(\"width\")) {\n        totalWidth += this.autosizeColumn(th, column, th.dataset.minWidth, colMaxWidth);\n      }\n\n      // Reorder columns with drag/drop\n      if (this.state.reorder) {\n        if (plugins.draggableHeaders) {\n          plugins.draggableHeaders.makeHeaderDraggable(th, this);\n        } else {\n          console.error(\"Plugin not loaded\");\n        }\n      }\n      tr.appendChild(th);\n      idx++;\n    });\n\n    // There is too much width, and we want to avoid fixed layout to split remaining amount\n    if (totalWidth < thead.offsetWidth) {\n      let lastTh = tr.lastChild;\n      if (lastTh) {\n        lastTh.removeAttribute(\"width\");\n      }\n    }\n\n    // Actions\n    if (this.state.actions.length) {\n      let actionsTh = document.createElement(\"th\");\n      actionsTh.setAttribute(\"role\", \"columnheader button\");\n      actionsTh.setAttribute(\"aria-colindex\", this.columnsLength(true));\n      actionsTh.classList.add(...[\"dg-actions\", this.actionClass]);\n      actionsTh.tabIndex = 0;\n      tr.appendChild(actionsTh);\n    }\n\n    thead.replaceChild(tr, thead.querySelector(\"tr.dg-head-columns\"));\n\n    // Context menu\n    if (plugins.contextMenu) {\n      tr.addEventListener(\"contextmenu\", (ev) => {\n        plugins.contextMenu.showContextMenu(ev, this);\n      });\n    }\n\n    // Sort col on click\n    tr.querySelectorAll(\"[aria-sort]\").forEach((sortableRow) => {\n      sortableRow.addEventListener(\"click\", () => this.sortData(sortableRow));\n    });\n  }\n  createColumnFilters(thead) {\n    let idx = 0;\n    let tr;\n\n    // Create row for filters\n    tr = document.createElement(\"tr\");\n    this.filterRow = tr;\n    tr.setAttribute(\"role\", \"row\");\n    tr.setAttribute(\"aria-rowindex\", 2);\n    tr.setAttribute(\"class\", \"dg-head-filters\");\n    if (!this.state.filter) {\n      tr.setAttribute(\"hidden\", true);\n    }\n\n    // Selectable\n    let th = document.createElement(\"th\");\n    th.setAttribute(\"role\", \"columnheader button\");\n    th.setAttribute(\"aria-colindex\", 1);\n    th.classList.add(\"dg-selectable\");\n    th.tabIndex = 0;\n\n    let label = document.createElement(\"label\");\n    th.appendChild(label);\n\n    tr.appendChild(th);\n\n    this.state.columns.forEach((column) => {\n      if (column.attr) {\n        return;\n      }\n      let relatedTh = thead.querySelector(\"tr.dg-head-columns th[aria-colindex='\" + (idx + this.startIndex()) + \"']\");\n      let th = document.createElement(\"th\");\n      th.setAttribute(\"aria-colindex\", idx + this.startIndex());\n\n      let input = document.createElement(\"input\");\n      input.type = \"text\";\n      input.autocomplete = \"off\";\n      input.spellcheck = false;\n      // Allows binding filter to this column\n      input.dataset.name = column.field;\n      input.id = DataGrid.randstr(\"dg-filter-\");\n      // Don't use aria-label as it triggers autocomplete\n      input.setAttribute(\"aria-labelledby\", relatedTh.getAttribute(\"id\"));\n      if (!this.state.filter) {\n        th.tabIndex = 0;\n      } else {\n        input.tabIndex = 0;\n      }\n\n      if (column.hidden) {\n        th.setAttribute(\"hidden\", true);\n      }\n\n      th.appendChild(input);\n      tr.appendChild(th);\n      idx++;\n    });\n\n    // Actions\n    if (this.state.actions.length) {\n      let actionsTh = document.createElement(\"th\");\n      actionsTh.setAttribute(\"role\", \"columnheader button\");\n      actionsTh.setAttribute(\"aria-colindex\", this.columnsLength(true));\n      actionsTh.classList.add(...[\"dg-actions\", this.actionClass]);\n      actionsTh.tabIndex = 0;\n      tr.appendChild(actionsTh);\n    }\n\n    thead.replaceChild(tr, thead.querySelector(\"tr.dg-head-filters\"));\n\n    // Filter content on enter\n    tr.querySelectorAll(\"input\").forEach((input) => {\n      input.addEventListener(\"keypress\", (e) => {\n        const key = e.keyCode || e.key;\n        if (key === 13 || key === \"Enter\") {\n          this.filterData.call(this);\n        }\n      });\n    });\n  }\n  autosizeColumn(th, column, min, max) {\n    let v = this.data[0][column.field].toString();\n    let v2 = this.data[this.data.length - 1][column.field].toString();\n    if (v2.length > v.length) {\n      v = v2;\n    }\n    let width = 0;\n    if (v.length <= 6) {\n      width = min;\n    } else if (v.length > 50) {\n      width = max;\n    } else {\n      width = DataGrid.getTextWidth(v, th);\n    }\n    if (width < min) {\n      width = min;\n    }\n    th.setAttribute(\"width\", width);\n    return parseInt(width);\n  }\n  /**\n   * Render the data as rows in tbody\n   * It will call paginate() at the end\n   */\n  renderBody() {\n    this.log(\"render body\");\n    let tr;\n    let td;\n    let idx;\n    let tbody = document.createElement(\"tbody\");\n\n    // Handles the selectAll checkbox when any other .dg-selectable checkbox is checked.\n    this.selectAll &&\n      tbody.addEventListener(\"change\", (e) => {\n        if (e.target.type != \"checkbox\" || !e.target.closest(\".dg-selectable\")) return;\n        const totalCheckboxes = this.root.querySelectorAll(\"tbody .dg-selectable input[type=checkbox]\");\n        const totalChecked = Array.from(totalCheckboxes).filter((n) => n.checked);\n        this.selectAll.checked = totalChecked.length == totalCheckboxes.length;\n      });\n\n    this.data.forEach((item, i) => {\n      tr = document.createElement(\"tr\");\n      tr.setAttribute(\"role\", \"row\");\n      tr.setAttribute(\"hidden\", true);\n      tr.setAttribute(\"aria-rowindex\", i + 1);\n      tr.tabIndex = 0;\n\n      // Selectable\n      if (this.selectable) {\n        td = document.createElement(\"td\");\n        td.setAttribute(\"role\", \"gridcell button\");\n        td.setAttribute(\"aria-colindex\", 1);\n        td.classList.add(\"dg-selectable\");\n\n        let selectOne = document.createElement(\"input\");\n        selectOne.type = \"checkbox\";\n        let label = document.createElement(\"label\");\n        label.appendChild(selectOne);\n        td.appendChild(label);\n\n        tr.appendChild(td);\n      }\n\n      // Expandable\n      if (this.expand) {\n        tr.addEventListener(\"click\", function () {\n          this.classList.toggle(\"dg-expanded\");\n        });\n      }\n\n      idx = 0;\n      this.state.columns.forEach((column) => {\n        if (!column) {\n          console.log(this.state.columns);\n        }\n        // It should be applied as an attr of the row\n        if (column.attr) {\n          tr.setAttribute(column.attr, item[column.field]);\n          return;\n        }\n        td = document.createElement(\"td\");\n        td.setAttribute(\"role\", \"gridcell\");\n        td.setAttribute(\"aria-colindex\", idx + this.startIndex());\n        DataGrid.applyColumnDefinition(td, column);\n        td.setAttribute(\"data-name\", column.title);\n        td.tabIndex = -1;\n\n        // Inline editing\n        if (column.editable) {\n          let input = document.createElement(\"input\");\n          input.type = \"text\";\n          input.autocomplete = \"off\";\n          input.spellcheck = false;\n          input.tabIndex = 0;\n          input.classList.add(\"dg-editable\");\n          input.name = this.getAttribute(\"id\").replace(\"-\", \"_\") + \"[\" + (i + 1) + \"]\" + \"[\" + column.field + \"]\";\n          input.value = item[column.field];\n          input.dataset.field = column.field;\n\n          input.addEventListener(\"click\", (ev) => ev.stopPropagation());\n          input.addEventListener(\"keypress\", (ev) => {\n            if (ev.type === \"keypress\") {\n              const key = ev.keyCode || ev.key;\n              if (key === 13 || key === \"Enter\") {\n                input.blur();\n              }\n            }\n          });\n          input.addEventListener(\"blur\", () => {\n            // Only fire on update\n            if (input.value == item[input.dataset.field]) {\n              return;\n            }\n            // Update underlying data\n            item[input.dataset.field] = input.value;\n            // Notify\n            const event = new CustomEvent(\"edit\", {\n              bubbles: true,\n              detail: {\n                data: item,\n                value: input.value,\n              },\n            });\n            this.dispatchEvent(event);\n          });\n          td.appendChild(input);\n        } else {\n          td.textContent = item[column.field];\n        }\n        if (column.hidden) {\n          td.setAttribute(\"hidden\", true);\n        }\n        tr.appendChild(td);\n        idx++;\n      });\n\n      // Actions\n      if (this.state.actions.length) {\n        td = document.createElement(\"td\");\n        td.setAttribute(\"role\", \"gridcell\");\n        td.setAttribute(\"aria-colindex\", this.columnsLength(true));\n        td.classList.add(...[\"dg-actions\", this.actionClass]);\n        td.tabIndex = 0;\n\n        // Add menu toggle\n        let actionsToggle = document.createElement(\"button\");\n        actionsToggle.classList.add(\"dg-actions-toggle\");\n        actionsToggle.innerHTML = \"\u2630\";\n        td.appendChild(actionsToggle);\n        actionsToggle.addEventListener(\"click\", (ev) => {\n          ev.target.parentNode.classList.toggle(\"dg-expand\");\n        });\n\n        this.state.actions.forEach((action) => {\n          let button = document.createElement(\"button\");\n          if (action.html) {\n            button.innerHTML = action.html;\n          } else {\n            button.innerText = action.title ?? action.name;\n          }\n          if (action.url) {\n            button.type = \"submit\";\n            button.formAction = DataGrid.interpolate(action.url, item);\n          }\n          if (action.class) {\n            button.classList.add(action.class);\n          }\n          const actionHandler = (ev) => {\n            ev.stopPropagation();\n            if (action.confirm) {\n              let c = confirm(labels.areYouSure);\n              if (!c) {\n                ev.preventDefault();\n                return;\n              }\n            }\n            const event = new CustomEvent(\"action\", {\n              bubbles: true,\n              detail: {\n                data: item,\n                action: action.name,\n              },\n            });\n            this.dispatchEvent(event);\n          };\n          button.addEventListener(\"click\", actionHandler);\n          td.appendChild(button);\n\n          // Row action\n          if (action.default) {\n            tr.classList.add(\"dg-actionable\");\n            tr.addEventListener(\"click\", actionHandler);\n          }\n        });\n\n        tr.appendChild(td);\n      }\n\n      tbody.appendChild(tr);\n    });\n\n    tbody.setAttribute(\"role\", \"rowgroup\");\n\n    this.root.querySelector(\"table\").replaceChild(tbody, this.root.querySelector(\"tbody\"));\n\n    // Let's add a fake row to adjust any missing height, simply multiply by rowHeight the number of missing lines\n    tr = document.createElement(\"tr\");\n    tr.setAttribute(\"role\", \"row\");\n    tr.setAttribute(\"hidden\", true);\n    tr.classList.add(\"dg-fake-row\");\n    tr.tabIndex = 0;\n    tbody.appendChild(tr);\n\n    this.paginate();\n  }\n  paginate() {\n    this.log(\"paginate\");\n\n    const total = this.totalRecords();\n    const pages = this.totalPages();\n\n    let index;\n    let high = this.state.page * this.state.perPage;\n    let low = high - this.state.perPage + 1;\n    let tbody = this.root.querySelector(\"tbody\");\n    let tfoot = this.root.querySelector(\"tfoot\");\n\n    if (high > total) {\n      high = total;\n    }\n    if (!total) {\n      low = 0;\n    }\n\n    tbody.querySelectorAll(\"tr\").forEach((tr) => {\n      if (this.server) {\n        tr.removeAttribute(\"hidden\");\n        return;\n      }\n      index = Number(tr.getAttribute(\"aria-rowindex\"));\n      if (index > high || index < low) {\n        tr.setAttribute(\"hidden\", true);\n      } else {\n        tr.removeAttribute(\"hidden\");\n      }\n    });\n\n    // Store default height and update styles if needed\n    if (this.defaultHeight == 0) {\n      this.computeDefaultHeight();\n    }\n\n    // On last page, adjust height if using fixed height\n    let fakeRow = this.querySelector(\".dg-fake-row\");\n    if (this.style.height) {\n      if (this.state.page == pages) {\n        // Check if we are below set height\n        if (parseInt(this.style.height) > this.querySelector(\"tbody\").offsetHeight) {\n          const missing = this.state.perPage - (total - (pages - 1) * this.state.perPage);\n          fakeRow.setAttribute(\"height\", missing * this.rowHeight);\n        } else {\n          fakeRow.removeAttribute(\"height\");\n        }\n      } else {\n        fakeRow.removeAttribute(\"height\");\n      }\n    }\n\n    // Enable/disable buttons\n    if (this.btnFirst) {\n      this.btnFirst.disabled = this.state.page <= 1;\n      this.btnPrev.disabled = this.state.page <= 1;\n      this.btnNext.disabled = this.state.page >= this.state.pages;\n      this.btnLast.disabled = this.state.page >= this.state.pages;\n    }\n    tfoot.querySelector(\".dg-low\").textContent = low.toString();\n    tfoot.querySelector(\".dg-high\").textContent = high.toString();\n    tfoot.querySelector(\".dg-total\").textContent = this.totalRecords();\n  }\n  totalPages() {\n    return Math.ceil(this.totalRecords() / this.state.perPage);\n  }\n  totalRecords() {\n    if (this.server) {\n      return this.meta.filtered;\n    }\n    return this.data.length.toString();\n  }\n  /**\n   * @param {string|Error} message\n   */\n  log(message) {\n    if (this.debug) {\n      console.log(\"[\" + this.getAttribute(\"id\") + \"] \" + message);\n    }\n  }\n}\n\nexport default DataGrid;\n", "\"use strict\";\r\n\r\nimport elementOffset from \"../utils/elementOffset.js\";\r\n\r\nclass DataGridColumnResizer {\r\n  static renderResizer(grid, resizeLabel) {\r\n    const table = grid.root.querySelector(\"table\");\r\n    const cols = grid.root.querySelectorAll(\"thead tr.dg-head-columns th\");\r\n\r\n    cols.forEach((col) => {\r\n      if (col.classList.contains(\"dg-selectable\") || col.classList.contains(\"dg-actions\")) {\r\n        return;\r\n      }\r\n      // Create a resizer element\r\n      const resizer = document.createElement(\"div\");\r\n      resizer.classList.add(\"dg-resizer\");\r\n      resizer.ariaLabel = resizeLabel;\r\n\r\n      // Add a resizer element to the column\r\n      col.appendChild(resizer);\r\n\r\n      // Handle resizing\r\n      let startX = 0;\r\n      let startW = 0;\r\n      let remainingSpace = 0;\r\n      let max = 0;\r\n\r\n      const mouseMoveHandler = (e) => {\r\n        if (e.clientX > max) {\r\n          return;\r\n        }\r\n        const newWidth = startW + (e.clientX - startX);\r\n        if (col.dataset.minWidth && newWidth > col.dataset.minWidth) {\r\n          col.width = newWidth;\r\n        }\r\n      };\r\n\r\n      // When user releases the mouse, remove the existing event listeners\r\n      const mouseUpHandler = () => {\r\n        grid.log(\"resized column\");\r\n\r\n        grid.isResizing = false;\r\n        resizer.classList.remove(\"dg-resizer-active\");\r\n        if (grid.state.reorder) {\r\n          col.draggable = true;\r\n        }\r\n        col.style.overflow = \"hidden\";\r\n\r\n        document.removeEventListener(\"mousemove\", mouseMoveHandler);\r\n        document.removeEventListener(\"mouseup\", mouseUpHandler);\r\n      };\r\n\r\n      // Otherwise it could sort the col\r\n      resizer.addEventListener(\"click\", (e) => {\r\n        e.stopPropagation();\r\n      });\r\n\r\n      resizer.addEventListener(\"mousedown\", (e) => {\r\n        e.stopPropagation();\r\n        grid.isResizing = true;\r\n\r\n        const currentCols = grid.root.querySelectorAll(\".dg-head-columns th\");\r\n        const visibleCols = Array.from(currentCols).filter((col) => {\r\n          return !col.hasAttribute(\"hidden\");\r\n        });\r\n        const columns = Array.from(visibleCols);\r\n        const columnIndex = columns.findIndex((column) => column == e.target.parentNode);\r\n        grid.log(\"resize column\");\r\n\r\n        resizer.classList.add(\"dg-resizer-active\");\r\n\r\n        // Make sure we don't drag it\r\n        if (col.hasAttribute(\"draggable\")) {\r\n          col.removeAttribute(\"draggable\");\r\n        }\r\n\r\n        // Allow overflow when resizing\r\n        col.style.overflow = \"visible\";\r\n\r\n        // Show full column height (-1 to avoid scrollbar)\r\n        resizer.style.height = table.offsetHeight - 1 + \"px\";\r\n\r\n        // Register initial data\r\n        startX = e.clientX;\r\n        startW = col.offsetWidth;\r\n\r\n        remainingSpace = (visibleCols.length - columnIndex) * 30;\r\n        max = elementOffset(e.target).left + grid.offsetWidth - remainingSpace;\r\n\r\n        // Remove width from next columns to allow auto layout\r\n        col.setAttribute(\"width\", startW);\r\n        for (let j = 0; j < visibleCols.length; j++) {\r\n          if (j > columnIndex) {\r\n            cols[j].removeAttribute(\"width\");\r\n          }\r\n        }\r\n\r\n        // Attach handlers\r\n        document.addEventListener(\"mousemove\", mouseMoveHandler);\r\n        document.addEventListener(\"mouseup\", mouseUpHandler);\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nexport default DataGridColumnResizer;\r\n", "\"use strict\";\r\n\r\nclass DataGridContextMenu {\r\n  static showContextMenu(e, grid) {\r\n    e.preventDefault();\r\n\r\n    const target = grid.constructor.getParentNode(e.target, \"THEAD\");\r\n    const menu = grid.root.querySelector(\".dg-menu\");\r\n    const rect = target.getBoundingClientRect();\r\n    let x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n\r\n    menu.style.top = `${y}px`;\r\n    menu.style.left = `${x}px`;\r\n\r\n    menu.removeAttribute(\"hidden\");\r\n    if (x + 150 > rect.width) {\r\n      x -= menu.offsetWidth;\r\n      menu.style.left = `${x}px`;\r\n    }\r\n\r\n    const documentClickHandler = (e) => {\r\n      if (!menu.contains(e.target)) {\r\n        menu.setAttribute(\"hidden\", true);\r\n        document.removeEventListener(\"click\", documentClickHandler);\r\n      }\r\n    };\r\n    document.addEventListener(\"click\", documentClickHandler);\r\n  }\r\n\r\n  static createMenu(grid) {\r\n    const menu = grid.root.querySelector(\".dg-menu\");\r\n    grid.state.columns.forEach((col) => {\r\n      if (col.attr) {\r\n        return;\r\n      }\r\n      const field = col.field;\r\n      const li = document.createElement(\"li\");\r\n      const label = document.createElement(\"label\");\r\n      const checkbox = document.createElement(\"input\");\r\n      checkbox.setAttribute(\"type\", \"checkbox\");\r\n      if (!col.hidden) {\r\n        checkbox.checked = true;\r\n      }\r\n      checkbox.addEventListener(\"change\", (e) => {\r\n        e.target.checked ? this.showColumn(field, e.target, grid) : this.hideColumn(field, e.target, grid);\r\n      });\r\n\r\n      const text = document.createTextNode(col.title);\r\n\r\n      label.appendChild(checkbox);\r\n      label.appendChild(text);\r\n\r\n      li.appendChild(label);\r\n      menu.appendChild(li);\r\n    });\r\n  }\r\n  static showColumn(field, checkbox = null, grid) {\r\n    if (checkbox) {\r\n      checkbox.checked = true;\r\n    }\r\n    grid.setColProp(field, \"hidden\", false);\r\n    grid.renderHeader();\r\n  }\r\n  static hideColumn(field, checkbox = null, grid) {\r\n    const numHiddenCols = grid.state.columns.filter((th) => {\r\n      return th.hidden === true;\r\n    }).length;\r\n\r\n    if (numHiddenCols === grid.columnsLength() - 1) {\r\n      // Restore checkbox value\r\n      if (checkbox) {\r\n        checkbox.checked = true;\r\n      }\r\n      return;\r\n    }\r\n    grid.setColProp(field, \"hidden\", true);\r\n    grid.renderHeader();\r\n  }\r\n}\r\n\r\nexport default DataGridContextMenu;\r\n", "\"use strict\";\n\nclass DataGridDraggableHeaders {\n  static makeHeaderDraggable(th, grid) {\n    th.draggable = true;\n    th.addEventListener(\"dragstart\", (e) => {\n      if (grid.isResizing && e.preventDefault) {\n        e.preventDefault();\n        return;\n      }\n      grid.log(\"reorder col\");\n      e.dataTransfer.effectAllowed = \"move\";\n      e.dataTransfer.setData(\"text/plain\", e.target.getAttribute(\"aria-colindex\"));\n    });\n    th.addEventListener(\"dragover\", (e) => {\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n      e.dataTransfer.dropEffect = \"move\";\n      return false;\n    });\n    th.addEventListener(\"drop\", (e) => {\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      }\n      const target = grid.constructor.getParentNode(e.target, \"TH\");\n      const index = e.dataTransfer.getData(\"text/plain\");\n      const targetIndex = target.getAttribute(\"aria-colindex\");\n\n      if (index === targetIndex) {\n        grid.log(\"reordered col stayed the same\");\n        return;\n      }\n      grid.log(\"reordered col from \" + index + \" to \" + targetIndex);\n\n      const offset = grid.startIndex();\n      const tmp = grid.state.columns[index - offset];\n      grid.state.columns[index - offset] = grid.columns[targetIndex - offset];\n      grid.state.columns[targetIndex - offset] = tmp;\n\n      const swapNodes = (selector, el1) => {\n        const rowIndex = el1.parentNode.getAttribute(\"aria-rowindex\");\n        const el2 = grid.root.querySelector(selector + \" tr[aria-rowindex='\" + rowIndex + \"'] [aria-colindex='\" + targetIndex + \"']\");\n        el1.setAttribute(\"aria-colindex\", targetIndex);\n        el2.setAttribute(\"aria-colindex\", index);\n        const newNode = document.createElement(\"th\");\n        el1.parentNode.insertBefore(newNode, el1);\n        el2.parentNode.replaceChild(el1, el2);\n        newNode.parentNode.replaceChild(el2, newNode);\n      };\n\n      // Swap all rows in header and body\n      grid.root.querySelectorAll(\"thead th[aria-colindex='\" + index + \"']\").forEach((el1) => {\n        swapNodes(\"thead\", el1);\n      });\n      grid.root.querySelectorAll('tbody td[aria-colindex=\"' + index + '\"]').forEach((el1) => {\n        swapNodes(\"tbody\", el1);\n      });\n\n      // Updates the columns\n      grid.state.columns = Array.from(\n        grid.root.querySelectorAll(\"thead tr.dg-head-columns th[field]\")\n      ).map((th) =>\n        grid.state.columns.find((c) => c.field == th.getAttribute(\"field\"))\n      );\n\n      return false;\n    });\n  }\n}\n\nexport default DataGridDraggableHeaders;\n", "import DataGrid from \"./src/data-grid.js\";\nimport DataGridColumnResizer from \"./src/plugins/column-resizer.js\";\nimport DataGridContextMenu from \"./src/plugins/context-menu.js\";\nimport DataGridDraggableHeaders from \"./src/plugins/draggable-headers.js\";\n\nDataGrid.registerPlugin(\"columnResizer\", DataGridColumnResizer);\nDataGrid.registerPlugin(\"contextMenu\", DataGridContextMenu);\nDataGrid.registerPlugin(\"draggableHeaders\", DataGridDraggableHeaders);\n\ncustomElements.define(\"data-grid\", DataGrid);\n\nexport default DataGrid;\n"],
  "mappings": "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",
  "names": ["elementOffset", "el", "rect", "scrollLeft", "scrollTop", "plugins", "labels", "template", "DataGrid", "options", "name", "inst", "str", "data", "$1", "$2", "el", "type", "prop", "parent", "text", "styles", "fontWeight", "fontSize", "fontFamily", "context", "metrics", "value", "label", "checked", "opt", "prefix", "v", "definition", "columns", "cols", "key", "col", "item", "attributeName", "oldValue", "newValue", "elementOffset", "val", "cb", "e", "xDiff", "yDiff", "field", "visibleOnly", "len", "tr", "row", "th", "fieldName", "i", "selectedData", "resolve", "response", "err", "event", "filters", "input", "sort", "stack", "itemA", "itemB", "a", "b", "valA", "valB", "reject", "url", "params", "k", "sortedColumn", "thead", "colMaxWidth", "idx", "selectableTh", "totalWidth", "column", "lastTh", "actionsTh", "ev", "sortableRow", "relatedTh", "min", "max", "v2", "width", "td", "tbody", "totalCheckboxes", "totalChecked", "n", "selectOne", "actionsToggle", "action", "button", "actionHandler", "total", "pages", "index", "high", "low", "tfoot", "fakeRow", "missing", "message", "data_grid_default", "DataGridColumnResizer", "grid", "resizeLabel", "table", "cols", "col", "resizer", "startX", "startW", "remainingSpace", "max", "mouseMoveHandler", "e", "newWidth", "mouseUpHandler", "currentCols", "visibleCols", "columnIndex", "column", "elementOffset", "j", "column_resizer_default", "DataGridContextMenu", "e", "grid", "target", "menu", "rect", "x", "y", "documentClickHandler", "col", "field", "li", "label", "checkbox", "text", "th", "context_menu_default", "DataGridDraggableHeaders", "th", "grid", "e", "target", "index", "targetIndex", "offset", "tmp", "swapNodes", "selector", "el1", "rowIndex", "el2", "newNode", "c", "draggable_headers_default", "data_grid_default", "column_resizer_default", "context_menu_default", "draggable_headers_default"]
}
